<!DOCTYPE html>

<html>

<head>

<title>JaSON</title>

<!-- Twitter Bootstrap -->    
<link href="stylesheets/bootstrap.min.css" rel="stylesheet">

<!-- Google Pretty Printer -->
<link href="stylesheets/prettify.css" rel="stylesheet">
<script src="javascripts/prettify.js"></script>

<!-- JQuery -->
<script src="javascripts/jquery-1.7.1.min.js" type="text/javascript"></script>

<!--  Custom Styles -->
<style type="text/css">
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
</style>

<script type="text/javascript">
$(document).ready(function() {
	
	// enable google pretty printer
	prettyPrint();
	
	$("#addHeader").click(addHeader);
	
	$("#send").click(sendRequest);
	
});

function sendRequest() {
	
	$.ajax({
		url: $("#url").val(),
		beforeSend: function(xhr) {
		  xhr.setRequestHeader("username", "account1@mailinator.com");
		  xhr.setRequestHeader("password", "password1");
		},
		dataType: "json",
		success: function(data) {
			$("#results").html(JSON.stringify(data, null, 2));
			$("#results").show();
		},
		error: function(jqXHR, textStatus, errorThrown) {
			alert("error: " + textStatus + ", " + errorThrown);
		}
	});
}

function addHeader() {
	var header = $("<li><input type='text' class='headerName' placeHolder='name'/><input type='text' class='headerValue' placeHolder='value'/></li>");
	$("#headers").append(header);
}
</script>
</head>
    
<body>

	<!-- Navbar -->    
	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>
				<a class="brand" href="/"><img src="icon_32.png"></img> JaSON</a>
			</div>
		</div>
	</div>
	
	<!-- Container -->
	<div class="container">
	
		<div class="row">
			<input type="text" id="url" placeHolder="URL"/>
		</div>
		
		<div class="row">
		    <h3>HTTP headers</h3>
		    <ul id="headers">
		    </ul>
		    <button class="btn" id="addHeader">Add new HTTP header</button>
		</div>

		<div class="row">
			<div class="form-actions">
				<input type="button" class="btn btn-primary" id="send" value="Send Request" />
			</div>
			<pre id="results" class="prettyprint lang-js" style="display:none"></pre>
		</div>
		
	</div>

</body>

</html>
